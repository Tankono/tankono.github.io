(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{9119:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/packet-log",function(){return o(6386)}])},6386:function(e,t,o){"use strict";o.r(t);var n=o(4471),l=o(486),r=o(9963),i=o(9162),a=o(9287),c=o(6984),s=o(9819),d=o(7532),g=o(9281),m=o(9614),h=o.n(m),p=o(1909),w=o(1001),u=o(97);let x={[s.wj.Auth]:"AUTH",[s.wj.Close]:"CLSE",[s.wj.Connect]:"CNXN",[s.wj.OK]:"OKAY",[s.wj.Open]:"OPEN",[s.wj.Write]:"WRTE"},C=new class{get empty(){return!w.d.logs.length}get commandBarItems(){return[{key:"clear",disabled:this.empty,iconProps:{iconName:u.PJ.Delete},text:"Clear",onClick:(0,d.aD)(()=>w.d.clearLog())},{key:"select-all",disabled:this.empty,iconProps:{iconName:u.PJ.Wand},text:"Select All",onClick:(0,d.aD)(()=>{this.selection.clear(),this.selection.select(w.d.logs.length-1,!1,!0)})},{key:"copy",disabled:0===this.selection.size,iconProps:{iconName:u.PJ.Copy},text:"Copy",onClick:()=>{let e="";for(let t of this.selection){let o=w.d.logs[t];e+="".concat(o.timestamp.toISOString(),"	").concat("in"===o.direction?"IN":"OUT","	").concat(x[o.command],"	").concat(o.arg0.toString(16).padStart(8,"0"),"	").concat(o.arg1.toString(16).padStart(8,"0"),"	").concat(Array.from(o.payload).map(e=>e.toString(16).padStart(2,"0")).join(" "),"\n")}navigator.clipboard.writeText(e)}}]}constructor(){this.selection=new p.x$,(0,d.ky)(this,{}),(0,d.EH)(()=>{0===w.d.logs.length&&(0,d.z)(()=>this.selection.clear())})}},S=(0,i.Z)({grow:{height:0},grid:{height:"100%"},header:{textAlign:"center",lineHeight:"".concat(32,"px")},row:{"&:hover":{backgroundColor:"#f3f2f1"}},selected:{backgroundColor:"#edebe9"},code:{fontFamily:"monospace",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"32px",cursor:"default",...a.q5.overflow("hidden")},hexViewer:{...a.q5.padding("12px"),...a.q5.borderTop("1px","solid","rgb(243, 242, 241)")}}),f=[{title:"Direction",width:100,CellComponent:(0,u.$g)("Direction")(e=>{let{className:t,rowIndex:o,...l}=e,r=w.d.logs[o],i=S();return(0,n.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.direction})})},{title:"Command",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:o,...l}=e,r=w.d.logs[o];if(!r.commandString){var i;r.commandString=null!==(i=x[r.command])&&void 0!==i?i:(0,s.FO)(new Uint32Array([r.command]))}let a=S();return(0,n.jsx)("div",{className:(0,c.z)(t,a.code),...l,children:r.commandString})})},{title:"Arg0",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:o,...l}=e,r=w.d.logs[o];r.arg0String||(r.arg0String=r.arg0.toString(16).padStart(8,"0"));let i=S();return(0,n.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.arg0String})})},{title:"Arg1",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:o,...l}=e,r=w.d.logs[o];r.arg1String||(r.arg1String=r.arg1.toString(16).padStart(8,"0"));let i=S();return(0,n.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.arg1String})})},{title:"Payload",width:200,flexGrow:1,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:o,...l}=e,r=w.d.logs[o];r.payloadString||(r.payloadString=(0,p.lr)(r.payload.subarray(0,100)));let i=S();return(0,n.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.payloadString})})}],j=(0,u.$g)("Header")(e=>{let{className:t,columnIndex:o,...l}=e,r=S();return(0,n.jsx)("div",{className:(0,c.z)(t,r.header),...l,children:f[o].title})}),y=(0,g.Pi)(function(e){let{className:t,rowIndex:o,...l}=e,r=S(),i=(0,u.R9)(e=>{(0,d.z)(()=>{e.preventDefault(),e.stopPropagation(),C.selection.select(o,(0,p.O4)(e),e.shiftKey)})});return(0,n.jsx)("div",{className:(0,c.z)(t,r.row,C.selection.has(o)&&r.selected),onPointerDown:i,...l})}),N=()=>{let e=S();return(0,n.jsxs)(l.K,{...u.LE,tokens:{},children:[(0,n.jsx)(h(),{children:(0,n.jsx)("title",{children:"Packet Log - Android Web Toolbox"})}),(0,n.jsx)(p.X3,{items:C.commandBarItems}),(0,n.jsx)(r.v,{className:e.grow,grow:!0,children:(0,n.jsx)(p.rj,{className:e.grid,rowCount:w.d.logs.length,rowHeight:32,columns:f,HeaderComponent:j,RowComponent:y})}),null!==C.selection.selectedIndex&&w.d.logs[C.selection.selectedIndex].payload.length>0&&(0,n.jsx)(r.v,{className:e.grow,grow:!0,children:(0,n.jsx)(p.Kb,{className:e.hexViewer,data:w.d.logs[C.selection.selectedIndex].payload})})]})};t.default=(0,g.Pi)(N)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9119)}),_N_E=e.O()}]);
//# sourceMappingURL=packet-log-0f7d2c5bc921c1cf.js.map